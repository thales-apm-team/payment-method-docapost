<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="b2ae177e-1e38-4720-b13c-8e6299f594af" activeEnvironment="Default" name="SDD_Docapost_REST" resourceRoot="" soapui-version="5.4.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" id="417d09c6-ce83-45f6-8b6c-370cba573707" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://espaceclient.sepalia.fr/rcte" type="rest" basePath="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:description>URL dev API Docapost</con:description><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint></con:endpoints><con:resource name="SignatureWS" path="" id="15d35234-5d28-4a16-984d-6e28693109fc"><con:description>Web Service de l'API Docapost SignatureWS</con:description><con:settings/><con:parameters/><con:resource name="initiateSignature" path="/api/initiateSignature" id="f5466d4c-03c6-4506-95b6-58e9e64e20c4"><con:settings/><con:parameters><con:parameter required="true"><con:name>creditorId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>mandateRum</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="initiateSignature" id="54bfcbac-aa78-42e1-b6e0-d79522fc42e2" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=UTF-8</con:mediaType><con:status>401</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html; charset=UTF-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:init="https://espaceclient.sepalia.fr/rcte/api/initiateSignature">init:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:init="https://espaceclient.sepalia.fr/rcte/api/initiateSignature">init:Response</con:element></con:representation><con:request name="initiateSignatureReq" id="635d6cae-2741-4d44-8b67-1691a56ed486" mediaType="application/x-www-form-urlencoded" postQueryString="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/x-www-form-urlencoded"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request/><con:originalUri>https://espaceclient.sepalia.fr/rcte/api/initiateSignature</con:originalUri><con:credentials><con:username>payline@docapost.fr</con:username><con:password>J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="creditor_id" value="${#Project#creditorId}"/>
  <con:entry key="mandateRum" value="${#Project#rum}"/>
  <con:entry key="rum" value="${#Project#rum}"/>
  <con:entry key="creditorId" value="${#Project#creditorId}"/>
</con:parameters><con:parameterOrder><con:entry>creditor_id</con:entry><con:entry>rum</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="sendOTP" path="/api/sendOTP" id="57709133-4bb3-4d6c-9105-d1d51b2dad45"><con:settings/><con:parameters><con:parameter required="true"><con:name>creditorId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>mandateRum</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>transactionId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="sendOTP" id="42152ffa-9bfd-429e-943a-7abd61600ba6" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html;charset=UTF-8</con:mediaType><con:status>401</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:sen="https://espaceclient.sepalia.fr/rcte/api/sendOTP">sen:Response</con:element></con:representation><con:request name="sendOTPReq" id="f688b618-a450-41c5-a755-ab5519ae7029" mediaType="application/x-www-form-urlencoded" postQueryString="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/x-www-form-urlencoded"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request/><con:credentials><con:username>payline@docapost.fr</con:username><con:password>	J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="mandateRum" value="${#Project#rum}"/>
  <con:entry key="creditorId" value="${#Project#creditorId}"/>
  <con:entry key="transactionId" value="${#Project#transactionId}"/>
</con:parameters><con:parameterOrder><con:entry>creditorId</con:entry><con:entry>mandateRum</con:entry><con:entry>transactionId</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="setCode" path="/api/setCode" id="1b03a911-21a4-4281-8a67-a97d411f9ab3"><con:settings/><con:parameters><con:parameter required="true"><con:name>creditorId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>mandateRum</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>signatureId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>transactionId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>otp</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="setCode" id="b83910e8-6221-4be5-a08d-d39a43697372" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:set="https://espaceclient.sepalia.fr/rcte/api/setCode">set:Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:request name="setCodeReq" id="b05bb7fe-c94a-4cba-a7bf-dfa1958a470c" mediaType="application/x-www-form-urlencoded" postQueryString="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/x-www-form-urlencoded"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request/><con:credentials><con:username>payline@docapost.fr</con:username><con:password>J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="mandateRum" value="${#Project#rum}"/>
  <con:entry key="signatureId" value="${#Project#signatureId}"/>
  <con:entry key="otp" value="${#Project#otp}"/>
  <con:entry key="creditorId" value="${#Project#creditorId}"/>
  <con:entry key="transactionId" value="${#Project#transactionId}"/>
</con:parameters><con:parameterOrder><con:entry>creditorId</con:entry><con:entry>mandateRum</con:entry><con:entry>transactionId</con:entry><con:entry>signatureId</con:entry><con:entry>otp</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="terminateSignature" path="/api/terminateSignature" id="0fa6ba5d-2b0d-47ed-be4e-368b9916960e"><con:settings/><con:parameters><con:parameter required="true"><con:name>creditorId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>mandateRum</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>transactionId</con:name><con:value/><con:style>QUERY</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>success</con:name><con:value/><con:style>QUERY</con:style><con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:boolean</con:type><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:method name="terminateSignature" id="63f48473-1b67-4780-b76a-f1c30746e2cd" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/x-www-form-urlencoded</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ter="https://espaceclient.sepalia.fr/rcte/api/terminateSignature">ter:Response</con:element></con:representation><con:request name="terminateSignatureReq" id="2495146d-b7ca-4099-ae4d-51ea0acdc76c" mediaType="application/x-www-form-urlencoded" postQueryString="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/x-www-form-urlencoded"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request/><con:credentials><con:username>payline@docapost.fr</con:username><con:password>	J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="success" value="${#Project#signatureSuccess}"/>
  <con:entry key="mandateRum" value="${#Project#rum}"/>
  <con:entry key="creditorId" value="${#Project#creditorId}"/>
  <con:entry key="transactionId" value="${#Project#transactionId}"/>
</con:parameters><con:parameterOrder><con:entry>creditorId</con:entry><con:entry>mandateRum</con:entry><con:entry>transactionId</con:entry><con:entry>success</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:resource><con:resource name="MandateWS" path="" id="8cf5575c-d46a-4936-875e-015ceffde9ca"><con:description>Web Service de l'API Docapost MandateWS</con:description><con:settings/><con:parameters/><con:resource name="mandateCreate" path="/api/mandate/create" id="4a4093c2-ef49-4eb8-84ce-c72977963ce9"><con:settings/><con:parameters/><con:method name="mandateCreate" id="8a434620-b4d2-425e-a2a5-13a29dc83ca7" method="POST"><con:settings/><con:parameters><con:parameter><con:name>debtor_country_code</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>debtor_phone_number</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>debtor_town</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>debtor_postal_code</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>creditor_id</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>flow_name</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>rum</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>recurrent</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>context_identifier</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>language</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>debtor_last_name</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>debtor_first_name</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>debtor_iban</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>debtor_street</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>debtor_complement</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter><con:name>debtor_complement_2</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/><con:element>WSMandateDTO</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/xml</con:mediaType><con:status>400</con:status><con:params/><con:element>sepalia</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/xml</con:mediaType><con:status>200</con:status><con:params/><con:element>WSMandateDTO</con:element></con:representation><con:request name="mandateCreateReq" id="97b540e6-ebb7-4df8-8963-60b5b121ad39" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request><![CDATA[<WSMandateDTO>
   <creditorId>${creditor_id}</creditorId>
   <flowName>${flow_name}</flowName>
   <rum>${rum}</rum>
   <recurrent>${recurrent}</recurrent>
   <contextIdentifier>${context_identifier}</contextIdentifier>
   <language>${language}</language>
   <debtor>
      <lastName>${debtor_last_name}</lastName>
      <firstName>${debtor_first_name}</firstName>
      <iban>${debtor_iban}</iban>
      <street>${debtor_street}</street>
      <complement>${debtor_complement}</complement>
      <complement2>${debtor_complement_2}</complement2>
      <postalCode>${debtor_postal_code}</postalCode>
      <town>${debtor_town}</town>
      <phoneNumber>${debtor_phone_number}</phoneNumber>
      <countryCode>${debtor_country_code}</countryCode>
   </debtor>
</WSMandateDTO>]]></con:request><con:credentials><con:username>payline@docapost.fr</con:username><con:password>J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="debtor_phone_number" value="${#Project#debtorPhoneNumber}"/>
  <con:entry key="debtor_street" value="${#Project#debtorStreet}"/>
  <con:entry key="context_identifier" value="${#Project#contextIdentifier}"/>
  <con:entry key="debtor_last_name" value="${#Project#debtorLastName}"/>
  <con:entry key="debtor_complement" value="${#Project#debtorComplement}"/>
  <con:entry key="flow_name" value="${#Project#flowName}"/>
  <con:entry key="debtor_complement_2" value="${#Project#debtorComplement2}"/>
  <con:entry key="debtor_postal_code" value="${#Project#debtorPostalCode}"/>
  <con:entry key="language" value="${#Project#language}"/>
  <con:entry key="rum" value="${#Project#rum}"/>
  <con:entry key="debtor_town" value="${#Project#debtorTown}"/>
  <con:entry key="creditor_id" value="${#Project#creditorId}"/>
  <con:entry key="debtor_first_name" value="${#Project#debtorFirstName}"/>
  <con:entry key="debtor_country_code" value="${#Project#debtorCountryCode}"/>
  <con:entry key="recurrent" value="${#Project#recurrent}"/>
  <con:entry key="debtor_iban" value="${#Project#debtorIban}"/>
</con:parameters><con:parameterOrder><con:entry>creditor_id</con:entry><con:entry>flow_name</con:entry><con:entry>rum</con:entry><con:entry>recurrent</con:entry><con:entry>context_identifier</con:entry><con:entry>language</con:entry><con:entry>debtor_last_name</con:entry><con:entry>debtor_first_name</con:entry><con:entry>debtor_iban</con:entry><con:entry>debtor_street</con:entry><con:entry>debtor_complement</con:entry><con:entry>debtor_complement_2</con:entry><con:entry>debtor_postal_code</con:entry><con:entry>debtor_town</con:entry><con:entry>debtor_phone_number</con:entry><con:entry>debtor_country_code</con:entry></con:parameterOrder></con:request></con:method></con:resource><con:resource name="create" path="/api/order/create" id="e0492ef0-f937-4b64-ace4-f1d24fb21691"><con:settings/><con:parameters/><con:method name="orderCreate" id="5f0ca59e-12d5-454a-9adb-dbdefdb8dd8e" method="POST"><con:settings/><con:parameters><con:parameter required="true"><con:name>creditor_id</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>rum</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>amount</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter><con:parameter required="true"><con:name>label</con:name><con:value/><con:style>PLAIN</con:style><con:default/><con:description xsi:nil="true"/></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>application/xml</con:mediaType><con:status>400</con:status><con:params/><con:element>sepalia</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/xml</con:mediaType><con:params/><con:element>WSDDOrderDTO</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/xml</con:mediaType><con:status>200</con:status><con:params/><con:element>WSDDOrderDTO</con:element></con:representation><con:request name="orderCreateReq" id="1498613e-f4f1-48cf-a6cf-97af00190669" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request><![CDATA[<WSDDOrderDTO>
    <creditorId>${creditor_id}</creditorId>
    <rum>${rum}</rum>
    <amount>${amount}</amount>
    <label>${label}</label>
</WSDDOrderDTO>]]></con:request><con:credentials><con:username>payline@docapost.fr</con:username><con:password>J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="creditor_id" value="${#Project#creditorId}"/>
  <con:entry key="amount" value="${#Project#amount}"/>
  <con:entry key="rum" value="${#Project#rum}"/>
  <con:entry key="label" value="${#Project#label}"/>
</con:parameters><con:parameterOrder><con:entry>creditor_id</con:entry><con:entry>rum</con:entry><con:entry>amount</con:entry><con:entry>label</con:entry></con:parameterOrder></con:request></con:method></con:resource></con:resource></con:interface><con:testSuite id="02769dd3-08a0-414b-8b14-d703c4374e8b" name="Paiement Docapost"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="599d9654-53c3-4d20-858c-b9192e92e48c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Test paiement Docapost - REST" searchProperties="true"><con:settings/><con:testStep type="groovy" name="PhoneNumber" id="09f0c47e-3f26-4c63-9906-ca3d1b5fe9cf"><con:settings/><con:config><script>import com.eviware.soapui.support.UISupport;
String answer = UISupport.prompt("Entrez votre numéro de téléphone pour recevoir l'OTP","Numéro","0628692878");
testRunner.testCase.testSuite.project.setPropertyValue( "debtorPhoneNumber" , answer );</script></con:config></con:testStep><con:testStep type="groovy" name="CreateMandateRum" id="e93bd2ab-363c-4900-a3a8-de9db9e24397"><con:settings/><con:config><script>def rum = new Date().format("MMddHHmmss");
testRunner.testCase.testSuite.project.setPropertyValue( "rum" , rum );
</script></con:config></con:testStep><con:testStep type="restrequest" name="mandateCreateReq" id="671fe4a1-4fe9-49f5-95e7-37e38bde1524"><con:settings/><con:config service="https://espaceclient.sepalia.fr/rcte" resourcePath="/api/mandate/create" methodName="mandateCreate" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="mandateCreateReq" id="97b540e6-ebb7-4df8-8963-60b5b121ad39" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Content-Type" value="application/xml" xmlns="http://eviware.com/soapui/config"/></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request><![CDATA[<WSMandateDTO>
   <creditorId>${creditor_id}</creditorId>
   <flowName>${flow_name}</flowName>
   <rum>${rum}</rum>
   <recurrent>${recurrent}</recurrent>
   <contextIdentifier>${context_identifier}</contextIdentifier>
   <language>${language}</language>
   <debtor>
      <lastName>${debtor_last_name}</lastName>
      <firstName>${debtor_first_name}</firstName>
      <iban>${debtor_iban}</iban>
      <street>${debtor_street}</street>
      <complement>${debtor_complement}</complement>
      <complement2>${debtor_complement_2}</complement2>
      <postalCode>${debtor_postal_code}</postalCode>
      <town>${debtor_town}</town>
      <phoneNumber>${debtor_phone_number}</phoneNumber>
      <countryCode>${debtor_country_code}</countryCode>
   </debtor>
</WSMandateDTO>]]></con:request><con:originalUri>https://espaceclient.sepalia.fr/rcte/api/mandate/create</con:originalUri><con:credentials><con:username>payline@docapost.fr</con:username><con:password>J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="debtor_phone_number" value="${#Project#debtorPhoneNumber}"/>
  <con:entry key="debtor_street" value="${#Project#debtorStreet}"/>
  <con:entry key="context_identifier" value="${#Project#contextIdentifier}"/>
  <con:entry key="debtor_last_name" value="${#Project#debtorLastName}"/>
  <con:entry key="debtor_complement" value="${#Project#debtorComplement}"/>
  <con:entry key="flow_name" value="${#Project#flowName}"/>
  <con:entry key="debtor_complement_2" value="${#Project#debtorComplement2}"/>
  <con:entry key="debtor_postal_code" value="${#Project#debtorPostalCode}"/>
  <con:entry key="language" value="${#Project#language}"/>
  <con:entry key="rum" value="${#Project#rum}"/>
  <con:entry key="debtor_town" value="${#Project#debtorTown}"/>
  <con:entry key="creditor_id" value="${#Project#creditorId}"/>
  <con:entry key="debtor_first_name" value="${#Project#debtorFirstName}"/>
  <con:entry key="debtor_country_code" value="${#Project#debtorCountryCode}"/>
  <con:entry key="recurrent" value="${#Project#recurrent}"/>
  <con:entry key="debtor_iban" value="${#Project#debtorIban}"/>
</con:parameters><con:parameterOrder><con:entry>creditor_id</con:entry><con:entry>flow_name</con:entry><con:entry>rum</con:entry><con:entry>recurrent</con:entry><con:entry>context_identifier</con:entry><con:entry>language</con:entry><con:entry>debtor_last_name</con:entry><con:entry>debtor_first_name</con:entry><con:entry>debtor_iban</con:entry><con:entry>debtor_street</con:entry><con:entry>debtor_complement</con:entry><con:entry>debtor_complement_2</con:entry><con:entry>debtor_postal_code</con:entry><con:entry>debtor_town</con:entry><con:entry>debtor_phone_number</con:entry><con:entry>debtor_country_code</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="TransferMandateCreateReqProperties" id="db36e039-30e4-48f4-a0d2-03eb37c96396"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>rum</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>mandateCreateReq</con:sourceStep><con:sourcePath>//*:rum</con:sourcePath><con:targetType>rum</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="initiateSignatureReq" id="3ff9019a-a042-4a45-b1af-6829adad2420"><con:settings/><con:config service="https://espaceclient.sepalia.fr/rcte" resourcePath="/api/initiateSignature" methodName="initiateSignature" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="initiateSignatureReq" id="635d6cae-2741-4d44-8b67-1691a56ed486" mediaType="application/x-www-form-urlencoded" postQueryString="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/x-www-form-urlencoded"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request/><con:originalUri>https://espaceclient.sepalia.fr/rcte/api/initiateSignature</con:originalUri><con:credentials><con:username>payline@docapost.fr</con:username><con:password>J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="creditor_id" value="${#Project#creditorId}"/>
  <con:entry key="mandateRum" value="${#Project#rum}"/>
  <con:entry key="rum" value="${#Project#rum}"/>
  <con:entry key="creditorId" value="${#Project#creditorId}"/>
</con:parameters><con:parameterOrder><con:entry>creditor_id</con:entry><con:entry>rum</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="TransferInitiateSignatureReqProperties" id="4a59bb67-faaf-4764-9ebf-2f03a1a3578a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>transactionId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>initiateSignatureReq</con:sourceStep><con:sourcePath>$.transactionId</con:sourcePath><con:targetType>transactionId</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="sendOTPReq" id="84dc8bbf-6995-440e-9e9e-4bc8a2e0d137"><con:settings/><con:config service="https://espaceclient.sepalia.fr/rcte" resourcePath="/api/sendOTP" methodName="sendOTP" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="sendOTPReq" id="f688b618-a450-41c5-a755-ab5519ae7029" mediaType="application/x-www-form-urlencoded" postQueryString="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/x-www-form-urlencoded"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request/><con:originalUri>https://espaceclient.sepalia.fr/rcte/api/sendOTP</con:originalUri><con:credentials><con:username>payline@docapost.fr</con:username><con:password>	J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="mandateRum" value="${#Project#rum}"/>
  <con:entry key="creditorId" value="${#Project#creditorId}"/>
  <con:entry key="transactionId" value="${#Project#transactionId}"/>
</con:parameters><con:parameterOrder><con:entry>creditorId</con:entry><con:entry>mandateRum</con:entry><con:entry>transactionId</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="TransferSendOTPReqProperties" id="1f4e31ed-470c-428a-832d-5d12d2a7920e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" disabled="false" entitize="false" ignoreEmpty="false" transferChildNodes="false" transferToAll="false" useXQuery="false"><con:name>signatureId</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>sendOTPReq</con:sourceStep><con:sourcePath>$.signatureID</con:sourcePath><con:targetType>signatureId</con:targetType><con:targetStep>#Project#</con:targetStep><con:targetPath xsi:nil="true"/><con:type>JSONPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="OTP" id="f1c9835d-1278-4a36-8b61-a72a6a6ffe59"><con:settings/><con:config><script>import com.eviware.soapui.support.UISupport;
String answer = UISupport.prompt("Entrez l'OTP reçu au " + testRunner.testCase.testSuite.project.getPropertyValue( "debtorPhoneNumber"),"OTP","");
testRunner.testCase.testSuite.project.setPropertyValue( "otp" , answer );</script></con:config></con:testStep><con:testStep type="restrequest" name="setCodeReq" id="d3d472e9-ae9b-4d31-9259-8d544a287932"><con:settings/><con:config service="https://espaceclient.sepalia.fr/rcte" resourcePath="/api/setCode" methodName="setCode" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="setCodeReq" id="b05bb7fe-c94a-4cba-a7bf-dfa1958a470c" mediaType="application/x-www-form-urlencoded" postQueryString="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/x-www-form-urlencoded"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request/><con:originalUri>https://espaceclient.sepalia.fr/rcte/api/setCode</con:originalUri><con:credentials><con:username>payline@docapost.fr</con:username><con:password>J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="mandateRum" value="${#Project#rum}"/>
  <con:entry key="signatureId" value="${#Project#signatureId}"/>
  <con:entry key="otp" value="${#Project#otp}"/>
  <con:entry key="creditorId" value="${#Project#creditorId}"/>
  <con:entry key="transactionId" value="${#Project#transactionId}"/>
</con:parameters><con:parameterOrder><con:entry>creditorId</con:entry><con:entry>mandateRum</con:entry><con:entry>transactionId</con:entry><con:entry>signatureId</con:entry><con:entry>otp</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="terminateSignatureReq" id="9d2226e3-18fd-4aed-995a-8a210c72e824"><con:settings/><con:config service="https://espaceclient.sepalia.fr/rcte" resourcePath="/api/terminateSignature" methodName="terminateSignature" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="terminateSignatureReq" id="2495146d-b7ca-4099-ae4d-51ea0acdc76c" mediaType="application/x-www-form-urlencoded" postQueryString="true"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/x-www-form-urlencoded"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request/><con:credentials><con:username>payline@docapost.fr</con:username><con:password>	J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="success" value="${#Project#signatureSuccess}"/>
  <con:entry key="mandateRum" value="${#Project#rum}"/>
  <con:entry key="creditorId" value="${#Project#creditorId}"/>
  <con:entry key="transactionId" value="${#Project#transactionId}"/>
</con:parameters><con:parameterOrder><con:entry>creditorId</con:entry><con:entry>mandateRum</con:entry><con:entry>transactionId</con:entry><con:entry>success</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="orderCreateReq" id="8e636b94-5296-46a8-b535-319aaadb2ce8"><con:settings/><con:config service="https://espaceclient.sepalia.fr/rcte" resourcePath="/api/order/create" methodName="orderCreate" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="orderCreateReq" id="1498613e-f4f1-48cf-a6cf-97af00190669" mediaType="application/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Basic cGF5bGluZUBkb2NhcG9zdC5mcjpKOltlZjhkY2NtYQ=="/>
  &lt;con:entry key="Content-Type" value="application/xml"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://espaceclient.sepalia.fr/rcte</con:endpoint><con:request><![CDATA[<WSDDOrderDTO>
    <creditorId>${creditor_id}</creditorId>
    <rum>${rum}</rum>
   <amount>${amount}</amount>
   <label>${label}</label>
</WSDDOrderDTO>]]></con:request><con:originalUri>https://espaceclient.sepalia.fr/rcte/api/order/create</con:originalUri><con:credentials><con:username>payline@docapost.fr</con:username><con:password>J:[ef8dccma</con:password><con:selectedAuthProfile>Basic</con:selectedAuthProfile><con:addedBasicAuthenticationTypes>Basic</con:addedBasicAuthenticationTypes><con:authType>Global HTTP Settings</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="creditor_id" value="${#Project#creditorId}"/>
  <con:entry key="amount" value="${#Project#amount}"/>
  <con:entry key="rum" value="${#Project#rum}"/>
  <con:entry key="label" value="${#Project#label}"/>
</con:parameters><con:parameterOrder><con:entry>creditor_id</con:entry><con:entry>rum</con:entry><con:entry>amount</con:entry><con:entry>label</con:entry></con:parameterOrder></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>creditorId</con:name><con:value>MARCHAND1</con:value></con:property><con:property><con:name>creditorAccountName</con:name><con:value/></con:property><con:property><con:name>creditorIBAN</con:name><con:value/></con:property><con:property><con:name>flowName</con:name><con:value/></con:property><con:property><con:name>rum</con:name><con:value>PAYLINE-24V4BSFFA8</con:value></con:property><con:property><con:name>recurrent</con:name><con:value>false</con:value></con:property><con:property><con:name>contextIdentifier</con:name><con:value/></con:property><con:property><con:name>language</con:name><con:value>fr</con:value></con:property><con:property><con:name>debtorLastName</con:name><con:value>Nicolas</con:value></con:property><con:property><con:name>debtorFirstName</con:name><con:value>MICHNIEWSKI</con:value></con:property><con:property><con:name>debtorIban</con:name><con:value>FR7630076020821234567890186</con:value></con:property><con:property><con:name>debtorStreet</con:name><con:value>25 rue Gambetta</con:value></con:property><con:property><con:name>debtorComplement</con:name><con:value/></con:property><con:property><con:name>debtorComplement2</con:name><con:value/></con:property><con:property><con:name>debtorPostalCode</con:name><con:value>13130</con:value></con:property><con:property><con:name>debtorTown</con:name><con:value>Berre l'Etang</con:value></con:property><con:property><con:name>debtorPhoneNumber</con:name><con:value>0628692878</con:value></con:property><con:property><con:name>debtorCountryCode</con:name><con:value>FR</con:value></con:property><con:property><con:name>transactionId</con:name><con:value>2c969e2c6547d47401659fe31b4837e9</con:value></con:property><con:property><con:name>phone</con:name><con:value/></con:property><con:property><con:name>signatureId</con:name><con:value>72421919</con:value></con:property><con:property><con:name>otp</con:name><con:value>378353</con:value></con:property><con:property><con:name>amount</con:name><con:value>100</con:value></con:property><con:property><con:name>label</con:name><con:value>A simple order</con:value></con:property><con:property><con:name>signatureSuccess</con:name><con:value>true</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>